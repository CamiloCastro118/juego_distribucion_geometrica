<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<title >Juego : Moneda</title>

<!-- CSS-->
<style>
  :root {
    --bg: #020204;
    --panel: #071212;
    --neon-green: #39ff8b;
    --neon-green-2: #00ff99;
    --neon-pink: #ff66cc;
    --text: #dfeef6;
    --muted: #9fb7c7;
  }

  body {
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Press Start 2P", monospace;
    background: radial-gradient(circle at 20% 10%, #071014 0%, #000 40%), #000;
    color: var(--text);
    padding: 28px 16px;
    text-align: center;
  }

  h1 {
    margin-bottom: 10px;
    color: var(--neon-pink);
    font-family: 'Press Start 2P', monospace;
    font-size: 1.1rem;
    text-shadow: 0 0 10px rgba(255,102,204,0.25);
  }

  /* parrafos en verde neon */
  p, header p { color: var(--neon-green); }

    /* moneda  */
    #moneda {
      font-size: 7.5rem; /* grande en pantallas de escritorio */
      line-height: 1;
      width: 100%;
      display: block;
      text-align: center;
      margin: 14px 0 6px 0;
      transition: transform 0.6s ease;
    }

    @media (max-width: 600px) {
      #moneda { font-size: 4.2rem; }
    }
  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding: 18px;
    border-radius: 12px;
    width: 94%;
    max-width: 700px;
    margin: 0 auto;
  box-shadow: 0 6px 40px rgba(0,0,0,0.7), 0 0 30px rgba(57,255,139,0.08) inset;
  border: 2px solid #39ff8b; /* borde neon verde mas visible */
    color: var(--text);
    text-align: left;
  }

  input[type="number"] {
    width: 120px;
    padding: 8px;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.04);
    text-align: center;
    background: rgba(0,0,0,0.6);
    color: var(--text);
  }

  button {
    background: linear-gradient(90deg, rgba(57,255,139,0.12), rgba(0,255,153,0.12));
    color: var(--neon-green-2);
    border: 1px solid rgba(57,255,139,0.22);
    padding: 10px 16px;
    margin-top: 8px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    box-shadow: 0 8px 24px rgba(57,255,139,0.08), 0 0 18px rgba(57,255,139,0.06) inset;
    transition: transform 0.12s ease, box-shadow 0.18s ease, background 0.12s ease;
  }

  button:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(57,255,139,0.14), 0 0 28px rgba(57,255,139,0.08); }

  button:focus { outline: 3px solid rgba(57,255,139,0.28); outline-offset: 4px; box-shadow: 0 0 24px rgba(57,255,139,0.12); }

  .log {
    text-align: left;
    background: rgba(11,33,53,0.04);
    padding: 12px;
    border-radius: 10px;
    margin-top: 12px;
    max-height: 250px;
    overflow-y: auto;
    font-size: 0.95rem;
    color: var(--muted);
  }

  .success { color: #76c776; }
  .fail { color: #ff8a8a; }

  .prob { margin-top: 10px; font-weight: 700; color: var(--neon-green-2); }

  /* footer buttons borde  neon*/
  #btnRegresar, #btnIrDado {
    background-color: transparent;
    border: 2px solid #39ff8b;
    color: #39ff8b;
    padding: 10px 16px;
    border-radius: 8px;
    font-weight: 700;
    margin-left: 8px;
    box-shadow: 0 6px 18px rgba(57,255,139,0.06), 0 0 18px rgba(57,255,139,0.06) inset;
    transition: transform 0.12s ease, box-shadow 0.18s ease;
  }

  #btnRegresar:hover, #btnIrDado:hover { background-color: rgba(57,255,139,0.03); transform: translateY(-3px); box-shadow: 0 10px 26px rgba(57,255,139,0.12), 0 0 26px rgba(57,255,139,0.08); }
  #btnRegresar:focus, #btnIrDado:focus { outline: 3px solid rgba(57,255,139,0.28); outline-offset: 4px; box-shadow: 0 0 28px rgba(57,255,139,0.12); }

  /* tabla de intentos */
  .card table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 14px;
    background: rgba(0,0,0,0.45);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255,102,204,0.04);
  }

  .card th {
    padding: 10px 12px;
    text-align: left;
    background: rgba(255,102,204,0.06);
    color: var(--neon-pink);
    font-weight: 700;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .card td { padding: 12px; color: var(--muted); font-size: 0.9rem; vertical-align: middle; }

  .card tr:nth-child(even) { background: rgba(57,255,139,0.02); }
  .card tr:nth-child(odd) { background: rgba(255,255,255,0.01); }

  .card td .fail { color: #ff8a8a; }
  .card td .success { color: #76c776; }
</style>
</head>
<body>

<header>
  <h1>ðŸŽ¯ Juego - El Primer Exito Lanzamiento de 1 Moneda</h1>
  <p>Demostracion interactiva de la <strong>Distribucion Geometrica</strong></p>
   <p>Simula lanzamientos de una moneda hasta obtener  <strong>Cara</strong>. (p = 1/2)</p>
</header>

<div class="card">
  <div id="moneda">ðŸª™</div>
    <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
      <button id="btnLanzar">Lanzar moneda</button>
    </div>

  <div id="resultado"></div>

  <table>
    <thead>
      <tr>
        <th>Intento</th>
        <th>Resultado</th>
  <th>Probabilidad teorica P(X=k)</th>
      </tr>
    </thead>
    <tbody id="tabla-body"></tbody>
  </table>
</div>

<footer>
  <div style="display:flex;flex-direction:column;align-items:center;gap:8px;">
    <div style="display:flex;gap:10px;justify-content:center;">
      <button id="btnIrDado" title="Ir al juego del dado" aria-label="Ir al juego del dado">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle;margin-right:8px;color:#39ff8b;">
          <rect x="3" y="3" width="18" height="18" rx="3" fill="currentColor" />
          <circle cx="8" cy="8" r="1.3" fill="#39ff8b" />
          <circle cx="16" cy="8" r="1.3" fill="#39ff8b" />
          <circle cx="8" cy="16" r="1.3" fill="#39ff8b" />
          <circle cx="16" cy="16" r="1.3" fill="#39ff8b" />
        </svg>
        Ir al juego del dado
      </button>
      <button id="btnIrSimulacion" title="Abrir simulacion" aria-label="Abrir simulacion" style="margin-left:8px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle;margin-right:8px;color:#39ff8b;">
          <path d="M3 12l18-12v24L3 12z" fill="currentColor"/>
        </svg>
        Simulacion
      </button>
    </div>
    <div>Creado por <a href="https://github.com/CamiloCastro118" target="_blank">Camilo Castro</a> â€” Â© 2025</div>
  </div>
</footer>

<!-- SCRIPT JS  -->
<script>

  // variables de estado
  let intento = 0;            // contador de intentos k
  let encontrado = false;     // texto que indica si ya hubo exito

  // parametros y referencias DOM
  const p = 0.5; // probabilidad de exito cara
  const moneda = document.getElementById("moneda");
  const resultado = document.getElementById("resultado");
  const tablaBody = document.getElementById("tabla-body");
  const boton = document.getElementById("btnLanzar");
  const btnIrDado = document.getElementById("btnIrDado");

  // manejador del boton que realiza un intento
  boton.addEventListener("click", () => {
    // si ya se encontro el exito  y reiniciar para nueva simulacion
    if (encontrado) {
      reiniciarJuego();
      return;
    }

    // incrementar intento y animar la moneda
    intento++;
    moneda.style.transform = "rotateY(360deg)";

    // esperar la animacion antes de mostrar el resultado
    setTimeout(() => {
      // generar numero aleatorio y determinar exito/fallo
      const esCara = Math.random() < p; // true si sale cara (prob p)
      moneda.textContent = esCara ? "ðŸ™‚" : "ðŸ™ƒ";

      // texto para la fila de la tabla
      const resultadoTexto = esCara ? "Cara âœ… (Exito)" : "Sello âŒ (Fallo)";

      // probabilidad teorica  calculada con la formula de la geometrica
      const probTeorica = ((1 - p) ** (intento - 1) * p).toFixed(4);

      // agregar fila a la tabla con intent resultado y probabilidad teorica
      tablaBody.innerHTML += `
        <tr>
          <td>${intento}</td>
          <td>${resultadoTexto}</td>
          <td>${probTeorica}</td>
        </tr>
      `;

      // si es exito y mostrar mensaje final y preparar boton para reiniciar
      if (esCara) {
        resultado.innerHTML = `
          <strong>!Exito!</strong>âœ… Obtuviste cara en el intento <strong>${intento}</strong>.<br>
          P(X=${intento}) = ${probTeorica}
        `;
        encontrado = true;
        boton.textContent = "ðŸ” Jugar de nuevo";
      } else {
        // si no mostrar mensaje de estado y permitir otro intento
        resultado.textContent = `Intento ${intento}: todavia no salio cara...`;
      }
    }, 400);
  });

  // funcion para reiniciar el estado del juego
  function reiniciarJuego() {
    intento = 0;
    encontrado = false;
    tablaBody.innerHTML = "";     // limpiar tabla
    resultado.textContent = "";  // limpiar texto
    boton.textContent = "Lanzar moneda"; // restaurar texto del boton
    moneda.textContent = "ðŸª™";     // restaurar icono
  }

  // ir al juego del dado
  btnIrDado.addEventListener("click", () => {
    // abrir la pagina en la misma pestaÃ±a
    window.location.href = "indexx.html";
  });

  // abrir la simulacion 
  const btnIrSimulacion = document.getElementById("btnIrSimulacion");
  if (btnIrSimulacion) {
    btnIrSimulacion.addEventListener("click", () => {
      window.location.href = "indexxx.html";
    });
  }
</script>

</body>
</html>
